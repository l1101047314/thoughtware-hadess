(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{374:function(e,t,r){"use strict";var n=r(57),a=r.n(n),o=r(58),c=r.n(o),s=r(59),u=r.n(s),i=r(23),p=r.n(i),l=r(7),f=(new(function(){function e(){c()(this,e)}var t,r,n,o;return u()(e,[{key:"findMemberPage",value:(o=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/member/findMemberPage",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"findMemberList",value:(n=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/member/findMemberList",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"updateMember",value:(r=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/member/updateMember",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"createMemberApi",value:(t=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/member/createMember",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}()),new(function(){function e(){c()(this,e)}var t,r,n,o,s,i,f,y,d,m;return u()(e,[{key:"findAllStorage",value:(m=a()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/storage/findAllStorage");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)})},{key:"findRepository",value:(d=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/repository/findRepository",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"updateRepository",value:(y=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,l.a.post("/repository/updateRepository",t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"findAllRepository",value:(f=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/repository/findAllRepository",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"createRepository",value:(i=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/repository/createRepository",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"findRepositoryPage",value:(s=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/repository/findRepositoryPage",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"findRepositoryList",value:(o=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/repository/findRepositoryList",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"deleteRepository",value:(n=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/repository/deleteRepository",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"findLocalAndRemoteRepository",value:(r=a()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/repository/findLocalAndRemoteRepository");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"createRepositoryGroupItems",value:(t=a()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/repositoryGroupItems/createRepositoryGroupItems",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}()));t.a=f},395:function(e,t,r){"use strict";var n=r(0),a=r.n(n);t.a=function(e){var t=e.type,r=e.repositoryId,n=function(t){"compile"===t&&e.history.push("/index/repository/".concat(r,"/compile")),"agency"===t&&e.history.push("/index/repository/".concat(r,"/agency")),"copy"===t&&e.history.push("/index/repository/".concat(r,"/copy"))};return a.a.createElement("div",{className:"flex space-x-8 deploy"},a.a.createElement("div",{className:"".concat("compile"===t&&" choose_deploy_type ","  deploy_tab"),onClick:function(){return n("compile")}},"详情"),a.a.createElement("div",{className:"".concat("agency"===t&&" choose_deploy_type ","  deploy_tab"),onClick:function(){return n("agency")}},"代理信息"),a.a.createElement("div",{className:"".concat("copy"===t&&" choose_deploy_type ","  deploy_tab"),onClick:function(){return n("copy")}},"复制信息"))}},502:function(e,t,r){"use strict";r.r(t);var n=r(370),a=r.n(n),o=(r(96),r(36)),c=r(33),s=r.n(c),u=r(57),i=r.n(u),p=(r(229),r(110)),l=r(37),f=r.n(l),y=(r(372),r(371)),d=(r(231),r(159)),m=(r(228),r(155)),v=r(23),h=r.n(v),w=r(0),b=r.n(w),x=r(395),k=r(107),g=r(374);r(7);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={labelCol:{span:6}},j=m.a.TextArea,N=d.a.confirm,P=y.a.Option;t.default=function(e){var t=e.match.params,r=p.a.useForm(),n=f()(r,1)[0],c=Object(w.useState)([]),s=f()(c,2),u=s[0],l=s[1],d=Object(w.useState)(null),v=f()(d,2),E=v[0],A=v[1];Object(w.useEffect)(i()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return e.next=4,I();case 4:case"end":return e.stop()}}),e)}))),[t.id]);var I=function(){var e=i()(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.findAllStorage();case 2:0===(t=e.sent).code&&l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=i()(h.a.mark((function e(){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t.id),e.next=4,g.a.findRepository(r);case 4:0===(a=e.sent).code&&(n.setFieldsValue({type:a.agencyUrl,name:a.data.name,storage:a.data.storage.id,description:a.data.description}),A(a.data));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=i()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N({title:"注意：下面的制品也会被删除",icon:b.a.createElement(k.a,null),content:"",okText:"确认",okType:"danger",cancelText:"取消",onOk:function(){T(t.id)},onCancel:function(){}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var t=i()(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("id",r),t.next=4,g.a.deleteRepository(n);case 4:0===t.sent.code&&e.history.push("/index/repository");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return b.a.createElement("div",{className:" compile"},b.a.createElement("div",{className:"compile-width"},b.a.createElement("div",{className:"flex justify-between"},b.a.createElement("div",{className:" title"},"配置"),b.a.createElement("div",{className:"mt-3"},b.a.createElement(o.a,{type:"primary",htmlType:"submit",onClick:M},"删除"))),b.a.createElement(x.a,a()({type:"compile",repositoryId:t.id},e)),b.a.createElement("div",{className:"mt-6"},b.a.createElement(p.a,a()({},O,{form:n,onFinish:function(){n.validateFields().then(function(){var e=i()(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.updateRepository(R(R({},t),{},{id:E.id,repositoryUrl:E.repositoryUrl,repositoryType:E.repositoryType,storage:{id:t.storage},type:null==E?void 0:E.type}));case 2:if(0!==e.sent.code){e.next=6;break}return e.next=6,_();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},layout:"vertical"}),b.a.createElement(p.a.Item,{label:"制品仓库",name:"type"},b.a.createElement("div",{className:"border w-20 py-4 rounded-md cursor-pointer "},b.a.createElement("div",{className:"flex-row text-center "},null==E?void 0:E.type))),b.a.createElement(p.a.Item,{label:"仓库名称",name:"name",rules:[{required:!0,message:"仓库名称必填"}]},b.a.createElement(m.a,{placeholder:"请输入制品库名称"})),b.a.createElement(p.a.Item,{label:"存储库",name:"storage",rules:[{required:!0,message:"使用中英文、数字、空格组合"}]},b.a.createElement(y.a,{showArrow:!0,placeholder:"请选择存储库"},null==u?void 0:u.map((function(e){return b.a.createElement(P,{key:e.id,value:e.id},e.name)})))),b.a.createElement(p.a.Item,{label:"描述",name:"description"},b.a.createElement(j,{rows:4})),b.a.createElement(o.a,{type:"primary",htmlType:"submit"},"提交")))))}}}]);